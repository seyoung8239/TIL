---
title: TanStack Query\: Overview
createdAt: 2023-04-24
summary: 서버상태의 특징과 tanstack query를 사용했을 때의 이점에 대해 알아보자.
categories: [tanstack query]
---

원문: [https://tanstack.com/query/latest/docs/react/overview](https://tanstack.com/query/latest/docs/react/overview)

`tanstack query`는 웹 어플리케이션의 data-fetching 라이브러리라고 불린다. 하지만 조금 더 기술적으로 정의하자면, **fetching**, **caching**, **서버상태 동기화/업데이트**를 한다.

## Motivation

대부분의 웹 프레임워크는 데이터 패칭 혹은 업데이트를 위한 방법을 제공하지 않는다. 이러한 이유로 개발자들은 스스로 단단한 api 호출을 위한 구조를 구축해야 했다. 결국 api 요청은 컴포넌트 상태와 엉성하게 엮이게 되거나, 전역상태 라이브러리를 통해 비동기적인 데이터를 관리해야 했다.

그리고 현존하는 전통적인 상태 관리 라이브러리는 client-side에서는 잘 작동하나 비동기 작업과 서버 상태를 관리하는 데에는 부족함이 있었다. 서버의 상태는 클라이언트의 상태와 아주 다른 특징을 갖기 때문이다. 아래는 서버상태의 특징이다.

-   FE 서비스는 서버 상태에 대한 온전한 제어권이 없다
-   API 요청을 통해 비동기적으로 동작한다
-   대부분 제어권을 다른 유저들과 공유하여 다른 유저가 상태를 업데이트할 수 있다
-   서버 상태는 쉽게 상할 수 있다

서버 상태의 이러한 특성을 고려하면, 아래와 같은 작업을 하는 것이 상당히 어려워진다.

-   캐싱
-   동일한 데이터에 대한 중복적인 요청 처리
-   상한 서버 상태를 최신화 하기
-   서버 상태가 상한 시점 파악하기
-   업데이트를 최대한 빠르게 반영하기
-   페이지네이션과 레이지 로딩 적용하기
-   서버 상태를 저장하는 메모리 최적화하기(garbage collection)
-   쿼리 결과 관리하기

대부분의 개발자들은 위와 같은 작업에 어려움을 겪는다. `tanstack query` 는 이러한 문제들을 해결하고자 등장했다. `tanstack query` 는 잘 추상화 되어 있고, 따로 설정할 필요가 없으며, 커스터마이징도 가능하다.

`tanstack query` 를 사용하여 서버 상태를 더 손쉽게 관리할 수 있다. 구체적인 예를 살펴보자.

-   api 요청을 깔끔하게 처리하기 위해 작성한 수 많은 라인의 코드를 `tanstack query` api를 활용해 단 몇줄로 줄일 수 있다
-   서버 상태를 관리하기 위한 로직을 더 유지보수 하기 쉽게 관리할 수 있다.
-   빠른 응답을 통해 유저의 경험을 향상할 수 있다
-   네트워크 요청을 줄일 수 있고 메모리 효율을 높일 수 있다

## 코드 살펴보기
