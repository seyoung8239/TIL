---
createdAt: 2023-03-15
title: μ»΄ν“¨ν„°κµ¬μ΅° CPUμ μ‘λ™ μ›λ¦¬
summary: ALU, Cotrol Unit, Register, Instruction Cycle, interuption
categories: ['ALU', 'Cotrol Unit', 'Register', 'Instruction Cycle', 'interuption']
---
# μ»΄ν“¨ν„°κµ¬μ΅°: CPUμ μ‘λ™ μ›λ¦¬

# ALUμ™€ μ μ–΄μ¥μΉ

## ALU

### ALU input

- λ μ§€μ¤ν„°λ΅λ¶€ν„° ν”Όμ—°μ‚°μλ¥Ό λ°›λ”λ‹¤
- μ μ–΄μ¥μΉλ΅λ¶€ν„° μν–‰ν•  μ—°μ‚°μ„ μ•λ ¤μ£Όλ” μ μ–΄ μ‹ νΈλ¥Ό λ°›λ”λ‹¤

### ALU output

- ν”λκ·Έ λμ§€μ¤ν„°μ— μ—°μ‚° κ²°κ³Όμ™€ κ΄€λ ¨λ μ •λ³΄λ¥Ό κΈ°λ΅ν•λ‹¤
- λ μ§€μ¤ν„°μ— μ—°μ‚° κ²°κ³Όλ¥Ό κΈ°λ΅ν•λ‹¤

### flag

- λ¶€νΈ ν”λκ·Έ: 1μ΄λ©΄ μμ
- μ λ΅ ν”λκ·Έ: 1μ΄λ©΄ 0
- μΊλ¦¬ ν”λκ·Έ: 1μ΄λ©΄ μ¬λ¦Όμ΄λ‚ λΉλ¦Ό λ°μƒ
- μ¤λ²„ν”λ΅μ° ν”λκ·Έ: 1μ΄λ©΄ μ—°μ‚°κ²°κ³Ό λ„μΉ¨
- μΈν„°λ½νΈ ν”λκ·Έ: 1μ΄λ©΄ μΈν„°λ½νΈ ν—μ©
- μνΌλ°”μ΄μ € ν”λκ·Έ: 1μ΄λ©΄ μ»¤λ„λ¨λ“

## μ μ–΄μ¥μΉ

- μ μ–΄ μ‹ νΈλ¥Ό μ†΅μμ‹  ν•κ³  λ…λ Ήμ–΄λ¥Ό ν•΄μ„ν•λ‹¤
- μ»΄ν“¨ν„° λ¶€ν’λ“¤μ„ μ μ–΄ν•λ” μ¥μΉ

### input

- ν”λκ·Έ λ μ§€μ¤ν„°
- λ…λ Ήμ–΄ λ μ§€μ¤ν„°
- clock
- λ‹¤λ¥Έ λ¶€ν’μ—μ„ μ¤λ” μ μ–΄μ‹ νΈ

### output

- λ μ§€μ¤ν„° μ μ–΄μ‹ νΈ
- ALU μ μ–΄μ‹ νΈ
- λ©”λ¨λ¦¬ μ μ–΄μ‹ νΈ
- IO μ μ–΄μ‹ νΈ

### Clock

- ν΄λ΅μ΄λ€ μ»΄ν“¨ν„°μ λ™μ‘μ΄ μ‹¤ν–‰λλ” λ‹¨μ„ μ‹κ°„μ΄λ‹¤
- ν΄λ΅ ν„μ¤μ— λ§μ¶”μ–΄ μ‹μ‘λκ±°λ‚ μΆ…λ£λλ‹¤
- ν•λ‚μ λ…λ Ήμ΄ μ—¬λ¬ ν΄λ΅μ— κ±Έμ³ μν–‰λ  μ μλ‹¤

### λ…λ Ήμ–΄ λ μ§€μ¤ν„°

μ μ–΄ μ¥μΉλ” λ…λ Ήμ–΄ λ μ§€μ¤ν„°μ— λ‹΄κΈ΄ λ…λ Ήμ–΄λ§ μ²λ¦¬ν•λ‹¤

### ν”λκ·Έ λ μ§€μ¤ν„°

- ν”λκ·Έ λ μ§€μ¤ν„°λ” μ—°μ‚° νΉμ€ CPU μƒνƒμ— λ€ν• μ •λ³΄λ¥Ό λ‹΄κ³  μλ‹¤
- control unitμ€ ν•­μƒ μ΄ ν”λκ·Έ λ μ§€μ¤ν„°μ μ •λ³΄λ¥Ό λ°μν•μ—¬ μ μ–΄ν•λ‹¤

### μ‹μ¤ν… λ²„μ¤ (μ μ–΄λ²„μ¤)

- CUλ” μ‹μ¤ν… λ²„μ¤ μ¤‘μ—μ„λ„ μ μ–΄ λ²„μ„λ΅λ¶€ν„° μ¤λ” μ μ–΄ μ‹ νΈλ¥Ό λ°›μ•„μ„ μ²λ¦¬ν•λ‹¤
- μ£Όλ΅ μ…μ¶λ ¥μ¥μΉ κ°™μ€ μ™Έλ¶€ μ¥μΉλ΅λ¶€ν„° μ‹ νΈκ°€ μ¨λ‹¤

# λ μ§€μ¤ν„°

## λ‹¤μ–‘ν• λ μ§€μ¤ν„°μ μΆ…λ¥

- ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„° PC

λ©”λ¨λ¦¬μ—μ„ κ°€μ Έμ¬ λ‹¤μ λ…λ Ήμ–΄μ μ£Όμ†λ¥Ό κ°€λ¥΄ν‚¨λ‹¤

- λ…λ Ήμ–΄ λ μ§€μ¤ν„°

λ©”λ¨λ¦¬μ—μ„ κ°€μ Έμ¨ λ…λ Ήμ–΄λ¥Ό λ‹΄μ•„λ‘”λ‹¤

- λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°
    - μ½κ±°λ‚ μ“Έ λ©”λ¨λ¦¬μ μ£Όμ†λ¥Ό κ΄€λ¦¬ν•λ‹¤.
    - μ£Όμ† λ²„μ¤λ¥Ό ν†µν•΄ μ£Όκ³ λ³΄λ‚Ό κ°’μ΄ λ‹΄κΈ΄λ‹¤.
- λ©”λ¨λ¦¬ λ²„νΌ λ μ§€μ¤ν„°
    - λ©”λ¨λ¦¬λ΅λ¶€ν„° μ½κ±°λ‚ μ“Έ κ°’(λ°μ΄ν„°, λ…λ Ήμ–΄)λ¥Ό λ‹΄λ”λ‹¤.
        - λ°μ΄ν„° λ²„μ¤λ¥Ό ν†µν•΄ μ£Όκ³ λ°›μ„ κ°’μ΄ λ‹΄κΈ΄λ‹¤.
- λ²”μ© λ μ§€μ¤ν„°

λ²”μ©μ μΌλ΅ μ‚¬μ©λλ‹¤. λ°μ΄ν„°λ‚ μ£Όμ†λ¥Ό μ €μ¥ν•  λ• μ‚¬μ©ν•λ‹¤

- ν”λκ·Έ λ μ§€μ¤ν„°

ALU μ—°μ‚° κ²°κ³Όμ— λ”°λ¥Έ ν”λκ·Έλ¥Ό μ €μ¥ν•λ‹¤

## ν• λ…λ Ήμ–΄λ¥Ό μ½λ” κ³Όμ •

1. ν”„λ΅κ·Έλ¨ μΉ΄μ΄ν„°μ— 1000μ΄ λ“¤μ–΄μλ‹¤
2. PCμ κ°’μ΄ λ©”λ¨λ¦¬ μ£Όμ† λ μ§€μ¤ν„°λ΅ μ΄λ™ν•λ‹¤
3. MARμ— λ‹΄κΈ΄ μ£Όμ†κ°€ μ£Όμ† λ²„μ¤λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬λ΅ μ „λ‹¬λλ‹¤.
    1. λ™μ‹μ— μ μ–΄μ‹ νΈλ” μ μ–΄ λ²„μ¤λ¥Ό ν†µν•΄ λ©”λ¨λ¦¬λ¥Ό μ½μΌλΌλ” μ μ–΄ μ‹ νΈλ¥Ό λ³΄λ‚Έλ‹¤.
4. ν•΄λ‹Ή μ£Όμ†μ— λ‹΄κΈ΄ λ…λ Ήμ–΄λ” λ°μ΄ν„° λ²„μ¤λ¥Ό νƒ€κ³  MBRμ— μ €μ¥λλ‹¤
    1. λ™μ‹μ— PCκ°€ +1 λλ‹¤
5. MBRμ— λ‹΄κΈ΄ λ…λ Ήμ–΄κ°€ λ…λ Ήμ–΄ λ μ§€μ¤ν„°λ΅ μ΄λ™ν•λ‹¤
6. μ„ κ³Όμ •μ΄ λ°λ³µλλ©° ν”„λ΅κ·Έλ¨μ΄ μ‹¤ν–‰λλ‹¤

<aside>
π’΅ **μμ°¨μ μΈ μ‹¤ν–‰ νλ¦„μ΄ λκΈ°λ” κ²½μ°**
μΌλ°μ μΌλ΅ μ‹¤ν–‰νλ¦„μ΄ μ΄λ™ν•κ±°λ‚(JUMP, CONDITIONAL JUMP, CALL, RETURN)
Interuptκ°€ λ°μƒν• κ²½μ° μμ°¨ μ‹¤ν–‰ νλ¦„μ΄ λκΈ΄λ‹¤.

</aside>

## νΉμ • λ μ§€μ¤ν„°λ¥Ό μ΄μ©ν• μ£Όμ† μ§€μ • λ°©μ‹

### μ¤νƒ μ£Όμ† μ§€μ • λ°©μ‹

- λ©”λ¨λ¦¬μ μ¤νƒμμ—­μ μµμƒμ„ μ£Όμ†λ¥Ό κ°€λ¥΄ν‚¤κ³  μλ‹¤.
- μ„λΈλ£¨ν‹΄μ„ μ²λ¦¬ν•λ” κ²½μ° μ–΄λ””λ΅ λμ•„κ°μ§€ λ“±μ„ λ‹΄κ³  μλ‹¤(call stack)

### μƒλ€ μ£Όμ† μ§€μ • λ°©μ‹

- PC + operand(offset)μ„ ν†µν•΄ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤.
- λ¶„κΈ°λ¬Έμ—μ„ μ‚¬μ©λλ‹¤

### λ² μ΄μ¤ λ μ§€μ¤ν„° μ£Όμ† μ§€μ • λ°©μ‹

- base register + operand(offset)μ„ ν†µν•΄ μ ν¨ μ£Όμ†λ¥Ό μ–»λ” λ°©μ‹μ΄λ‹¤

# λ…λ Ήμ–΄ μ‚¬μ΄ν΄κ³Ό μΈν„°λ½νΈ

## λ…λ Ήμ–΄ μ‚¬μ΄ν΄

- ν”„λ΅κ·Έλ¨ μ† λ…λ Ήμ–΄λ“¤μ΄ μΌμ •ν• μ£ΌκΈ° μ†μ—μ„ μ‹¤ν–‰λλ” κ²ƒμ„ μλ―Έν•λ‹¤
- λ©”λ¨λ¦¬μ— μλ” λ…λ Ήμ–΄λ¥Ό CPUλ΅ κ°€μ Έμ¤λ” κ²ƒμ„ `μΈμ¶ μ‚¬μ΄ν΄`μ΄λΌκ³  ν•λ‹¤
- μΈμ¶ν• λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ” κ²ƒμ΄ `μ‹¤ν–‰ μ‚¬μ΄ν΄`μ΄λ‹¤
- κ°„μ ‘ μ£Όμ† μ§€μ • λ°©μ‹μ„ μ‚¬μ© ν•λ” κ²½μ° ν• λ² λ” λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ” `κ°„μ ‘ μ‚¬μ΄ν΄`μ΄ λ°μƒν•λ‹¤.

## μΈν„°λ½νΈ

CPUλ” μΈν„°λ½νΈλ¥Ό λ°›μ€ κ²½μ° μν–‰μ¤‘μΈ μ‘μ—…μ„ μΌμ‹ μ •μ§€ν•λ‹¤.

### λ™κΈ° μΈν„°λ½νΈ

- λ…λ Ήμ–΄λ¥Ό μν–‰ν•λ‹¤κ°€ μμƒμΉ λ»ν• μƒν™©μ„ λ§μ£ΌμΉ  λ• λ°μƒ
- ν”„λ΅κ·Έλλ°μƒμ μ¤λ¥κ°€ λ°μƒν–μ„ λ• λ°μƒν•λ” μΈν„°λ½νΈμ΄λ‹¤
- μμ™ΈλΌκ³ λ„ λ¶λ¦¬λ©° κ·Έ μΆ…λ¥λ” μ•„λμ™€ κ°™λ‹¤
    - ν΄νΈ: ν•„μ”ν• λ°μ΄ν„°κ°€ μ—†λ” κ²½μ° λ°μƒ, ν•„μ”ν• λ°μ΄ν„°λ¥Ό ν™•λ³΄ ν›„ λ‹¤μ‹ ν•΄λ‹Ή λ…λ Ήμ„ μν–‰ν•λ‹¤.
    - νΈλ©: λ””λ²„κ±°μ™€ κ°™μ€ break pointκ°€ λ™μ‘ν•  λ•, μμ™Έ λ°μƒ λ‹¤μ λ…λ ΉμΌλ΅ λ„μ–΄κ°„λ‹¤.
    - μ¤‘λ‹¨: (segement default, runtime error λ“±λ“±..)
    - μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ: μ‹μ¤ν… μ½ λ°μƒμ‹

### ν•λ“μ›¨μ–΄(λΉ„λ™κΈ°) μΈν„°λ½νΈ

- ν•λ“μ›¨μ–΄ λ™μ‘κ³Ό κ°™μ€ λΉ„λ™κΈ° μ‘μ—…μ„ ν•  λ• λ°μƒν•λ‹¤
- μ…μ¶λ ¥ μ¥μΉκ°€ μ™„λ£λ κ²½μ° ν•΄λ‹Ή μ¥μΉλ” CPUμ—κ² λΉ„λ™κΈ° μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤
- CPUκ°€ ν•λ“μ›¨μ–΄μ μ™„λ£ μ—¬λ¶€λ¥Ό μ§€μ†μ μΌλ΅ ν™•μΈν•λ” pooling λ°©μ‹μ€ λΉ„ν¨μ¨μ μ΄λ‹¤.

### ν•λ“μ›¨μ–΄ μΈν„°λ½νΈ μ²λ¦¬ μμ„

1. IOμ¥μΉλ” CPUμ— μΈν„°λ½νΈ μ”μ²­ μ‹ νΈλ¥Ό λ³΄λ‚Έλ‹¤
2. CPUλ” λ§¤ μ‹¤ν–‰ μ‚¬μ΄ν΄μ„ μΆ…λ£ ν›„ μΈν„°λ½νΈ μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤
3. CPUλ” μΈν„°λ½νΈ μ”μ²­μ„ ν™•μΈν•κ³  μΈν„°λ½νΈ ν”λκ·Έλ¥Ό ν†µν•΄ μΈν„°λ½νΈ μμ© μ—¬λ¶€λ¥Ό ν™•μΈν•λ‹¤
4. μΈν„°λ½νΈ μμ©μ΄ κ°€λ¥ν•λ‹¤λ©΄ CPUλ” ν„μ¬ μ‘μ—…μ„ λ°±μ—…ν•λ‹¤(λ©”λ¨λ¦¬ μ¤νƒμ—)
5. CPUλ” μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ°Έμ΅°ν•μ—¬ μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μν–‰ν•λ‹¤
6. μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ΄ μΆ…λ£λλ©΄ μ¤νƒμ— μ €μ¥ν•΄λ‘” μ΄μ „ μ‘μ—… μƒνƒλ¥Ό λ³µκµ¬ν•λ‹¤